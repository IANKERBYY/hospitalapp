(()=>{"use strict";var e={4247:(e,t,n)=>{var r={};n.r(r),n.d(r,{REPORT_STATUS:()=>x,SEVERITY_LEVELS:()=>h,STATUS_TYPES:()=>p,USER_ROLES:()=>b,dashboardData:()=>f,equipment:()=>u,notifications:()=>m,reports:()=>g,users:()=>c});var o=n(4410),a=(n(5900),n(6560)),i=n(678),s=n(5037),l=n(8587),d=n(4231);const c=[{id:"1",username:"admin",password:"admin123",role:"ADMIN",name:"John Admin",email:"admin@hospital.com"},{id:"2",username:"tech",password:"tech123",role:"TECHNICIAN",name:"Mike Tech",email:"tech@hospital.com"},{id:"3",username:"nurse",password:"nurse123",role:"STAFF",name:"Sarah Nurse",email:"nurse@hospital.com"}],u=[{id:"1",name:"Ventilator X2000",modelNumber:"VX2000",serialNumber:"SN20231001",department:"ICU",status:"AVAILABLE",dateAcquired:"2023-01-15",maintenanceInterval:30,lastMaintenance:"2023-09-01",nextMaintenance:"2023-10-01",assignedTechnician:"2",qrCode:"EQ-VX2000-001",image:"https://images.pexels.com/photos/247786/pexels-photo-247786.jpeg"},{id:"2",name:"MRI Scanner Pro",modelNumber:"MRI-4000",serialNumber:"SN20231002",department:"Radiology",status:"UNDER_MAINTENANCE",dateAcquired:"2023-02-20",maintenanceInterval:45,lastMaintenance:"2023-08-15",nextMaintenance:"2023-09-30",assignedTechnician:"2",qrCode:"EQ-MRI4000-002",image:"https://images.pexels.com/photos/4226119/pexels-photo-4226119.jpeg"},{id:"3",name:"Patient Monitor Elite",modelNumber:"PM-ELITE-3",serialNumber:"SN20231003",department:"Emergency",status:"IN_USE",dateAcquired:"2023-03-10",maintenanceInterval:60,lastMaintenance:"2023-08-30",nextMaintenance:"2023-10-30",assignedTechnician:"2",qrCode:"EQ-PME3-003",image:"https://images.pexels.com/photos/263402/pexels-photo-263402.jpeg"}],g=[{id:"1",equipmentId:"1",reporterId:"3",description:"Unusual noise during operation",severity:"HIGH",status:"PENDING",dateReported:"2023-09-20",imageUrl:"https://images.pexels.com/photos/4226264/pexels-photo-4226264.jpeg",technicianNotes:"",estimatedFixTime:null},{id:"2",equipmentId:"2",reporterId:"3",description:"Calibration needed",severity:"MEDIUM",status:"IN_PROGRESS",dateReported:"2023-09-18",imageUrl:null,technicianNotes:"Ordered replacement parts",estimatedFixTime:"2023-09-25"}],m=[{id:"1",userId:"2",title:"New Maintenance Request",message:"Ventilator X2000 requires immediate attention",isRead:!1,createdAt:"2023-09-20T10:30:00Z"},{id:"2",userId:"1",title:"Overdue Maintenance",message:"MRI Scanner Pro maintenance is overdue",isRead:!0,createdAt:"2023-09-19T08:15:00Z"}],f={totalEquipment:25,underMaintenance:3,overdueRepairs:1,monthlyStats:{labels:["Jan","Feb","Mar","Apr","May","Jun"],datasets:[{data:[20,45,28,80,99,43]}]},departmentUsage:{ICU:40,Radiology:25,Emergency:20,Surgery:15}},p={AVAILABLE:"AVAILABLE",IN_USE:"IN_USE",UNDER_MAINTENANCE:"UNDER_MAINTENANCE",OUT_OF_ORDER:"OUT_OF_ORDER"},h={LOW:"LOW",MEDIUM:"MEDIUM",HIGH:"HIGH"},x={PENDING:"PENDING",IN_PROGRESS:"IN_PROGRESS",COMPLETED:"COMPLETED"},b={ADMIN:"ADMIN",TECHNICIAN:"TECHNICIAN",STAFF:"STAFF"};var j=n(7708);const y=["password"],C=(0,a.createContext)({}),S=({children:e})=>{const[t,n]=(0,a.useState)(null),[r,o]=(0,a.useState)(!0);(0,a.useEffect)((()=>{i()}),[]);const i=async()=>{try{const e=await d.default.getItem("@user");e&&n(JSON.parse(e))}catch(e){console.error("Error loading stored user:",e)}finally{o(!1)}},s={user:t,loading:r,login:async(e,t)=>{try{await new Promise((e=>setTimeout(e,1e3)));const r=c.find((n=>n.username===e&&n.password===t));if(r){const e=(0,l.default)(r,y);return await d.default.setItem("@user",JSON.stringify(e)),n(e),{success:!0}}throw new Error("Invalid credentials")}catch(r){return{success:!1,error:r.message||"An error occurred during login"}}},logout:async()=>{try{return await d.default.removeItem("@user"),n(null),!0}catch(e){return console.error("Logout error:",e),!1}},isAuthenticated:!!t};return(0,j.jsx)(C.Provider,{value:s,children:!r&&e})},T=()=>{const e=(0,a.useContext)(C);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e};var w=n(7407),I=n(6168),v=n(6908),R=n(1417);const E="#2E3A8C",O="#F5F7FA",B="#FFFFFF",A="#DC2626",N="#059669",P="#D97706",z="#1A202C",D={100:"#F7FAFC",200:"#EDF2F7",300:"#E2E8F0",400:"#CBD5E0",500:"#A0AEC0",600:"#718096",700:"#4A5568",800:"#2D3748",900:"#1A202C"},k={fontFamily:"System",fontWeight:"400"},L={fontFamily:"System",fontWeight:"500"},M={fontFamily:"System",fontWeight:"700"},q={xs:12,sm:14,md:16,lg:18,xl:20,"2xl":24,"3xl":30,"4xl":36},H=4,F=8,U=16,W=24,V=32,_={shadowColor:"#000",shadowOffset:{width:0,height:1},shadowOpacity:.18,shadowRadius:1,elevation:1},G={shadowColor:"#000",shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:3};var $=n(9837),Q=n(356),J=n(3363),X=n(628),Y=n(8183),Z=n(9732),K=n(5599),ee=n(7582);const te=Q.default.create({button:{borderRadius:8,justifyContent:"center",alignItems:"center",flexDirection:"row"},text:Object.assign({},L,{fontSize:q.md,textAlign:"center"}),fullWidth:{width:"100%"},disabled:{opacity:.5}}),ne=({title:e,onPress:t,variant:n="primary",size:r="md",loading:o=!1,disabled:a=!1,fullWidth:i=!1,style:s,textStyle:l})=>{const d=()=>{if(a)return D[400];switch(n){case"secondary":return D[800];case"outline":return E;default:return B}};return(0,j.jsx)(Z.default,{onPress:t,disabled:a||o,style:[te.button,(()=>{switch(n){case"secondary":return{backgroundColor:D[200],borderColor:D[300]};case"outline":return{backgroundColor:"transparent",borderColor:E,borderWidth:1};case"danger":return{backgroundColor:A};default:return{backgroundColor:E}}})(),(()=>{switch(r){case"sm":return{paddingVertical:H,paddingHorizontal:U};case"lg":return{paddingVertical:U,paddingHorizontal:V};default:return{paddingVertical:F,paddingHorizontal:W}}})(),i&&te.fullWidth,a&&te.disabled,s],children:o?(0,j.jsx)(ee.default,{color:d()}):(0,j.jsx)(K.default,{style:[te.text,{color:d()},"sm"===r&&{fontSize:q.sm},"lg"===r&&{fontSize:q.lg},l],children:e})})};var re=n(9481);const oe=Q.default.create({container:{marginBottom:U},label:Object.assign({},L,{fontSize:q.sm,color:D[700],marginBottom:H}),inputContainer:{backgroundColor:B,borderRadius:8,borderWidth:1,borderColor:D[300],flexDirection:"row",alignItems:"center"},input:Object.assign({},k,{flex:1,color:D[900],fontSize:q.md,paddingHorizontal:U,paddingVertical:F,minHeight:44}),multiline:{minHeight:100},multilineInput:{height:100,textAlignVertical:"top"},inputError:{borderColor:A},inputDisabled:{backgroundColor:D[100],borderColor:D[200]},errorText:Object.assign({},k,{fontSize:q.sm,color:A,marginTop:H}),leftIcon:{position:"absolute",left:U,zIndex:1},rightIcon:{position:"absolute",right:U,zIndex:1}}),ae=({label:e,value:t,onChangeText:n,placeholder:r,error:o,secureTextEntry:i,keyboardType:s="default",autoCapitalize:l="none",disabled:d=!1,style:c,containerStyle:u,leftIcon:g,rightIcon:m,onRightIconPress:f,multiline:p=!1,numberOfLines:h=1})=>{const[x,b]=(0,a.useState)(!1);return(0,j.jsxs)($.default,{style:[oe.container,u],children:[e&&(0,j.jsx)(K.default,{style:oe.label,children:e}),(0,j.jsxs)($.default,{style:[oe.inputContainer,o&&oe.inputError,d&&oe.inputDisabled,p&&oe.multiline],children:[g?(0,j.jsx)($.default,{style:oe.leftIcon,children:(0,j.jsx)(R.default,{name:g,size:20,color:D[500]})}):null,(0,j.jsx)(re.default,{style:[oe.input,g&&{paddingLeft:40},(m||i)&&{paddingRight:40},p&&oe.multilineInput,c],value:t,onChangeText:n,placeholder:r,placeholderTextColor:D[400],secureTextEntry:i&&!x,keyboardType:s,autoCapitalize:l,editable:!d,multiline:p,numberOfLines:h}),i?(0,j.jsx)(Z.default,{style:oe.rightIcon,onPress:()=>b(!x),children:(0,j.jsx)(R.default,{name:x?"eye-off-outline":"eye-outline",size:20,color:D[500]})}):m?(0,j.jsx)(Z.default,{style:oe.rightIcon,onPress:f,children:(0,j.jsx)(R.default,{name:m,size:20,color:D[500]})}):null]}),o&&(0,j.jsx)(K.default,{style:oe.errorText,children:o})]})},ie=Q.default.create({container:{flex:1,backgroundColor:O},scrollContent:{flexGrow:1},content:{flex:1,padding:V,justifyContent:"center"},logo:{width:"100%",height:120,marginBottom:V},form:{backgroundColor:B,padding:V,borderRadius:12,shadowColor:z,shadowOffset:{width:0,height:2},shadowOpacity:.25,shadowRadius:3.84,elevation:5},loginButton:{marginTop:U},demoCredentials:{marginTop:V,flexDirection:"row",justifyContent:"space-between"},demoButton:{flex:1,marginHorizontal:H}}),se=()=>{const[e,t]=(0,a.useState)({username:"",password:""}),[n,r]=(0,a.useState)(""),[o,i]=(0,a.useState)(!1),{login:s}=T();return(0,j.jsx)(J.default,{behavior:"height",style:ie.container,children:(0,j.jsx)(X.default,{contentContainerStyle:ie.scrollContent,keyboardShouldPersistTaps:"handled",children:(0,j.jsxs)($.default,{style:ie.content,children:[(0,j.jsx)(Y.default,{source:{uri:"https://images.pexels.com/photos/247786/pexels-photo-247786.jpeg"},style:ie.logo,resizeMode:"contain"}),(0,j.jsxs)($.default,{style:ie.form,children:[(0,j.jsx)(ae,{label:"Username",value:e.username,onChangeText:e=>{t((t=>Object.assign({},t,{username:e}))),r("")},placeholder:"Enter your username",leftIcon:"person-outline",autoCapitalize:"none",error:n?" ":""}),(0,j.jsx)(ae,{label:"Password",value:e.password,onChangeText:e=>{t((t=>Object.assign({},t,{password:e}))),r("")},placeholder:"Enter your password",leftIcon:"lock-closed-outline",secureTextEntry:!0,error:n}),(0,j.jsx)(ne,{title:"Login",onPress:async()=>{if(e.username&&e.password){r(""),i(!0);try{const t=await s(e.username,e.password);t.success||r(t.error||"Invalid credentials")}catch(t){r("An error occurred during login")}finally{i(!1)}}else r("Please enter both username and password")},loading:o,fullWidth:!0,style:ie.loginButton}),(0,j.jsxs)($.default,{style:ie.demoCredentials,children:[(0,j.jsx)(ne,{title:"Demo Admin",onPress:()=>{t({username:"admin",password:"admin123"})},variant:"outline",size:"sm",style:ie.demoButton}),(0,j.jsx)(ne,{title:"Demo Tech",onPress:()=>{t({username:"tech",password:"tech123"})},variant:"outline",size:"sm",style:ie.demoButton}),(0,j.jsx)(ne,{title:"Demo Staff",onPress:()=>{t({username:"nurse",password:"nurse123"})},variant:"outline",size:"sm",style:ie.demoButton})]})]})]})})})};var le=n(4938);const de=Q.default.create({container:Object.assign({backgroundColor:B,borderRadius:12,overflow:"hidden"},G),image:{width:"100%",height:150},content:{padding:U},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start"},titleContainer:{flex:1,flexDirection:"row",alignItems:"center",flexWrap:"wrap"},title:Object.assign({},M,{fontSize:q.lg,color:D[900],marginRight:F,flex:1}),subtitle:Object.assign({},k,{fontSize:q.md,color:D[600],marginTop:H}),description:Object.assign({},k,{fontSize:q.sm,color:D[500],marginTop:H}),status:{paddingHorizontal:F,paddingVertical:H,borderRadius:16,marginLeft:H},statusText:Object.assign({},L,{fontSize:q.xs,color:B,textTransform:"uppercase"}),rightIcon:{marginLeft:F},badgeContainer:{flexDirection:"row",flexWrap:"wrap",marginTop:F},badge:{paddingHorizontal:F,paddingVertical:H,borderRadius:16,marginRight:H,marginBottom:H},badgeText:Object.assign({},L,{fontSize:q.xs,color:B})}),ce=({title:e,subtitle:t,description:n,image:r,status:o,statusColor:a,rightIcon:i,onPress:s,style:l,imageStyle:d,badges:c=[]})=>{const u=()=>{if(a)return a;switch(o?.toUpperCase()){case"AVAILABLE":return N;case"IN_USE":return E;case"UNDER_MAINTENANCE":return P;case"OUT_OF_ORDER":return A;default:return D[500]}},g=()=>(0,j.jsxs)($.default,{style:[de.container,l],children:[r&&(0,j.jsx)(Y.default,{source:{uri:r},style:[de.image,d],resizeMode:"cover"}),(0,j.jsxs)($.default,{style:de.content,children:[(0,j.jsxs)($.default,{style:de.header,children:[(0,j.jsxs)($.default,{style:de.titleContainer,children:[(0,j.jsx)(K.default,{style:de.title,numberOfLines:1,children:e}),o&&(0,j.jsx)($.default,{style:[de.status,{backgroundColor:u()}],children:(0,j.jsx)(K.default,{style:de.statusText,children:o})})]}),i&&(0,j.jsx)(R.default,{name:i,size:24,color:D[500],style:de.rightIcon})]}),t&&(0,j.jsx)(K.default,{style:de.subtitle,children:t}),n&&(0,j.jsx)(K.default,{style:de.description,numberOfLines:2,children:n}),c.length>0&&(0,j.jsx)($.default,{style:de.badgeContainer,children:c.map(((e,t)=>(0,j.jsx)($.default,{style:[de.badge,{backgroundColor:e.color||E}],children:(0,j.jsx)(K.default,{style:de.badgeText,children:e.text})},t)))})]})]});return s?(0,j.jsx)(Z.default,{onPress:s,activeOpacity:.7,children:(0,j.jsx)(g,{})}):(0,j.jsx)(g,{})},ue=Q.default.create({container:{flex:1,backgroundColor:O},header:{flexDirection:"row",alignItems:"center",padding:U,backgroundColor:B,borderBottomWidth:1,borderBottomColor:D[200]},searchContainer:{flex:1,flexDirection:"row",alignItems:"center",backgroundColor:D[100],borderRadius:8,paddingHorizontal:F,marginRight:F},searchIcon:{marginRight:F},searchInput:Object.assign({flex:1,height:40},k,{fontSize:q.md,color:D[900]}),addButton:{width:40,height:40,borderRadius:20,backgroundColor:E,justifyContent:"center",alignItems:"center"},list:{padding:U},card:{marginBottom:U}}),ge=({navigation:e})=>{const[t,n]=(0,a.useState)(""),{user:r}=T(),o=u.filter((e=>e.name.toLowerCase().includes(t.toLowerCase())||e.department.toLowerCase().includes(t.toLowerCase())));return(0,j.jsxs)($.default,{style:ue.container,children:[(0,j.jsxs)($.default,{style:ue.header,children:[(0,j.jsxs)($.default,{style:ue.searchContainer,children:[(0,j.jsx)(R.default,{name:"search-outline",size:20,color:D[400],style:ue.searchIcon}),(0,j.jsx)(re.default,{style:ue.searchInput,placeholder:"Search equipment...",value:t,onChangeText:n,placeholderTextColor:D[400]}),t.length>0&&(0,j.jsx)(Z.default,{onPress:()=>n(""),children:(0,j.jsx)(R.default,{name:"close-circle",size:20,color:D[400]})})]}),r?.role===b.ADMIN&&(0,j.jsx)(Z.default,{style:ue.addButton,onPress:()=>e.navigate("AddEquipment"),children:(0,j.jsx)(R.default,{name:"add",size:24,color:B})})]}),(0,j.jsx)(le.default,{data:o,renderItem:({item:t})=>(0,j.jsx)(ce,{title:t.name,subtitle:`${t.modelNumber} \u2022 ${t.department}`,description:`Serial: ${t.serialNumber}`,image:t.image,status:t.status,badges:[{text:`Next Maintenance: ${new Date(t.nextMaintenance).toLocaleDateString()}`,color:D[500]}],onPress:()=>e.navigate("EquipmentDetails",{id:t.id}),style:ue.card}),keyExtractor:e=>e.id,contentContainerStyle:ue.list,showsVerticalScrollIndicator:!1})]})};Q.default.create({container:{flex:1,backgroundColor:O},errorContainer:{flex:1,justifyContent:"center",alignItems:"center"},errorText:Object.assign({},L,{fontSize:q.lg,color:D[600]}),image:{width:"100%",height:250,resizeMode:"cover"},content:{padding:W},header:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:W},title:Object.assign({},M,{fontSize:q["2xl"],color:D[900],flex:1,marginRight:F}),statusBadge:{paddingHorizontal:U,paddingVertical:H,borderRadius:16},statusText:Object.assign({},L,{fontSize:q.xs,color:B,textTransform:"uppercase"}),infoSection:Object.assign({backgroundColor:B,borderRadius:12,padding:W},G),infoRow:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",paddingVertical:F},infoLabel:{flexDirection:"row",alignItems:"center"},infoIcon:{marginRight:F},infoLabelText:Object.assign({},L,{fontSize:q.md,color:D[600]}),infoValue:Object.assign({},k,{fontSize:q.md,color:D[900]}),actions:{marginTop:V},reportButton:{marginBottom:F},qrButton:{backgroundColor:B},headerButton:{marginRight:U}});var me=n(2737),fe=n(3403),pe=n(8658);const he=.7*me.default.get("window").width,xe=Q.default.create({container:{flex:1,backgroundColor:z},camera:{flex:1},overlay:{flex:1,backgroundColor:"rgba(0,0,0,0.5)",justifyContent:"center",alignItems:"center"},scanArea:{width:he,height:he,borderWidth:2,borderColor:"transparent",position:"relative"},cornerTL:{position:"absolute",top:0,left:0,width:20,height:20,borderTopWidth:2,borderLeftWidth:2,borderColor:B},cornerTR:{position:"absolute",top:0,right:0,width:20,height:20,borderTopWidth:2,borderRightWidth:2,borderColor:B},cornerBL:{position:"absolute",bottom:0,left:0,width:20,height:20,borderBottomWidth:2,borderLeftWidth:2,borderColor:B},cornerBR:{position:"absolute",bottom:0,right:0,width:20,height:20,borderBottomWidth:2,borderRightWidth:2,borderColor:B},text:Object.assign({},k,{fontSize:q.md,color:B,textAlign:"center",margin:V}),errorText:Object.assign({},L,{fontSize:q.lg,color:A,textAlign:"center",margin:V}),instructions:Object.assign({},L,{fontSize:q.md,color:B,textAlign:"center",marginTop:V}),button:{position:"absolute",bottom:V,left:V,right:V}}),be=({navigation:e})=>{const[t,n]=(0,a.useState)(null),[r,o]=(0,a.useState)(!1);(0,a.useEffect)((()=>{i()}),[]);const i=async()=>{try{const{status:e}=await fe.Camera.requestCameraPermissionsAsync();n("granted"===e)}catch(e){console.error("Error requesting camera permission:",e),n(!1)}};return null===t?(0,j.jsx)($.default,{style:xe.container,children:(0,j.jsx)(K.default,{style:xe.text,children:"Requesting camera permission..."})}):!1===t?(0,j.jsxs)($.default,{style:xe.container,children:[(0,j.jsx)(K.default,{style:xe.errorText,children:"No access to camera"}),(0,j.jsx)(ne,{title:"Request Permission",onPress:i,style:xe.button})]}):(0,j.jsxs)($.default,{style:xe.container,children:[(0,j.jsx)(fe.Camera,{style:xe.camera,type:fe.Camera.Constants.Type.back,barCodeScannerSettings:{barCodeTypes:[pe.BarCodeScanner.Constants.BarCodeType.qr]},onBarCodeScanned:r?void 0:({data:t})=>{o(!0);const n=u.find((e=>e.qrCode===t));n?e.replace("EquipmentDetails",{id:n.id}):(alert("Invalid QR code. Please try scanning a valid equipment QR code."),o(!1))},children:(0,j.jsxs)($.default,{style:xe.overlay,children:[(0,j.jsxs)($.default,{style:xe.scanArea,children:[(0,j.jsx)($.default,{style:xe.cornerTL}),(0,j.jsx)($.default,{style:xe.cornerTR}),(0,j.jsx)($.default,{style:xe.cornerBL}),(0,j.jsx)($.default,{style:xe.cornerBR})]}),(0,j.jsx)(K.default,{style:xe.instructions,children:"Align QR code within the frame to scan"})]})}),r&&(0,j.jsx)(ne,{title:"Tap to Scan Again",onPress:()=>o(!1),style:xe.button})]})},je=Q.default.create({container:{flex:1,backgroundColor:O},header:{padding:U,backgroundColor:B,borderBottomWidth:1,borderBottomColor:D[200]},filterButtons:{flexDirection:"row",justifyContent:"space-between"},filterButton:{paddingVertical:H,paddingHorizontal:F,borderRadius:16,backgroundColor:D[100]},filterButtonActive:{backgroundColor:E},filterButtonText:Object.assign({},L,{fontSize:q.sm,color:D[600]}),filterButtonTextActive:{color:B},list:{padding:U},reportCard:Object.assign({backgroundColor:B,borderRadius:12,padding:U,marginBottom:U},G),reportHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"flex-start",marginBottom:F},equipmentInfo:{flex:1,marginRight:F},equipmentName:Object.assign({},M,{fontSize:q.md,color:D[900],marginBottom:H}),statusBadge:{alignSelf:"flex-start",paddingVertical:H,paddingHorizontal:F,borderRadius:12,marginTop:H},statusText:Object.assign({},L,{fontSize:q.xs,color:B}),severityBadge:{paddingVertical:H,paddingHorizontal:F,borderRadius:12},severityText:Object.assign({},L,{fontSize:q.xs,color:B}),description:Object.assign({},k,{fontSize:q.md,color:D[600],marginBottom:U}),reportFooter:{flexDirection:"row",justifyContent:"space-between",alignItems:"center"},reporterInfo:{flexDirection:"row",alignItems:"center"},reporterName:Object.assign({},L,{fontSize:q.sm,color:D[600],marginLeft:H}),date:Object.assign({},k,{fontSize:q.sm,color:D[500]}),emptyContainer:{flex:1,justifyContent:"center",alignItems:"center",paddingVertical:V},emptyText:Object.assign({},L,{fontSize:q.lg,color:D[400],marginTop:U}),createButton:{margin:U}}),ye=({navigation:e})=>{const[t,n]=(0,a.useState)("ALL"),r=e=>{switch(e.toUpperCase()){case"PENDING":return P;case"IN_PROGRESS":return E;case"COMPLETED":return N;default:return D[500]}},o=e=>{switch(e.toUpperCase()){case h.HIGH:return A;case h.MEDIUM:return P;case h.LOW:return N;default:return D[500]}},i=e=>{const t=u.find((t=>t.id===e));return t?t.name:"Unknown Equipment"},s=e=>{const t=c.find((t=>t.id===e));return t?t.name:"Unknown User"},l=g.filter((e=>"ALL"===t||e.status===t));return(0,j.jsxs)($.default,{style:je.container,children:[(0,j.jsx)($.default,{style:je.header,children:(0,j.jsx)($.default,{style:je.filterButtons,children:["ALL","PENDING","IN_PROGRESS","COMPLETED"].map((e=>(0,j.jsx)(Z.default,{style:[je.filterButton,t===e&&je.filterButtonActive],onPress:()=>n(e),children:(0,j.jsx)(K.default,{style:[je.filterButtonText,t===e&&je.filterButtonTextActive],children:e.replace("_"," ")})},e)))})}),(0,j.jsx)(le.default,{data:l,renderItem:({item:t})=>(0,j.jsxs)(Z.default,{style:je.reportCard,onPress:()=>e.navigate("ReportDetails",{id:t.id}),children:[(0,j.jsxs)($.default,{style:je.reportHeader,children:[(0,j.jsxs)($.default,{style:je.equipmentInfo,children:[(0,j.jsx)(K.default,{style:je.equipmentName,children:i(t.equipmentId)}),(0,j.jsx)($.default,{style:[je.statusBadge,{backgroundColor:r(t.status)}],children:(0,j.jsx)(K.default,{style:je.statusText,children:t.status})})]}),(0,j.jsx)($.default,{style:[je.severityBadge,{backgroundColor:o(t.severity)}],children:(0,j.jsx)(K.default,{style:je.severityText,children:t.severity})})]}),(0,j.jsx)(K.default,{style:je.description,numberOfLines:2,children:t.description}),(0,j.jsxs)($.default,{style:je.reportFooter,children:[(0,j.jsxs)($.default,{style:je.reporterInfo,children:[(0,j.jsx)(R.default,{name:"person-outline",size:16,color:D[500]}),(0,j.jsx)(K.default,{style:je.reporterName,children:s(t.reporterId)})]}),(0,j.jsx)(K.default,{style:je.date,children:new Date(t.dateReported).toLocaleDateString()})]})]}),keyExtractor:e=>e.id,contentContainerStyle:je.list,ListEmptyComponent:()=>(0,j.jsxs)($.default,{style:je.emptyContainer,children:[(0,j.jsx)(R.default,{name:"document-text-outline",size:64,color:D[300]}),(0,j.jsx)(K.default,{style:je.emptyText,children:"No reports found"})]})}),(0,j.jsx)(ne,{title:"Create New Report",onPress:()=>e.navigate("CreateReport"),style:je.createButton})]})};var Ce=n(3894);n(9570),n(2990);Q.default.create({container:{flex:1,backgroundColor:O},content:{padding:W},equipmentInfo:{backgroundColor:B,borderRadius:12,padding:U,marginBottom:W},equipmentImage:{width:"100%",height:150,borderRadius:8,marginBottom:U},equipmentDetails:{gap:F},severityContainer:{marginBottom:W},severityHeader:{flexDirection:"row",alignItems:"center",gap:F},severityInput:{flex:1},severityButtons:{flexDirection:"row",justifyContent:"space-between",marginTop:F},severityButton:{flex:1,marginHorizontal:H},imagePickerButton:{backgroundColor:B,borderRadius:12,borderWidth:2,borderColor:D[200],borderStyle:"dashed",overflow:"hidden",marginBottom:W},imagePickerContent:{height:200,justifyContent:"center",alignItems:"center"},pickedImage:{width:"100%",height:200,resizeMode:"cover"},addPhotoButton:{marginTop:F},submitButton:{marginTop:U}});const Se=({title:e,value:t,icon:n,color:r,onPress:o})=>(0,j.jsxs)(Z.default,{style:[Te.statCard,o&&Te.pressable],onPress:o,disabled:!o,children:[(0,j.jsx)($.default,{style:[Te.iconContainer,{backgroundColor:r}],children:(0,j.jsx)(R.default,{name:n,size:24,color:B})}),(0,j.jsx)(K.default,{style:Te.statValue,children:t}),(0,j.jsx)(K.default,{style:Te.statTitle,children:e})]}),Te=Q.default.create({container:{flex:1,backgroundColor:O},statsGrid:{flexDirection:"row",flexWrap:"wrap",padding:U,gap:U},statCard:Object.assign({flex:1,minWidth:"30%",backgroundColor:B,borderRadius:12,padding:U},G),pressable:{opacity:1},iconContainer:{width:40,height:40,borderRadius:20,justifyContent:"center",alignItems:"center",marginBottom:F},statValue:Object.assign({},M,{fontSize:q["2xl"],color:D[900],marginBottom:H}),statTitle:Object.assign({},L,{fontSize:q.sm,color:D[600]}),section:{padding:U},sectionHeader:{flexDirection:"row",justifyContent:"space-between",alignItems:"center",marginBottom:U},sectionTitle:Object.assign({},M,{fontSize:q.lg,color:D[900]}),seeAllButton:{flexDirection:"row",alignItems:"center"},seeAllText:Object.assign({},L,{fontSize:q.sm,color:E,marginRight:H}),reportCard:{marginBottom:U},departmentStats:Object.assign({backgroundColor:B,borderRadius:12,padding:U},G),departmentRow:{flexDirection:"row",alignItems:"center",marginBottom:U},departmentName:Object.assign({},L,{fontSize:q.sm,color:D[700],width:100}),usageBarContainer:{flex:1,height:8,backgroundColor:D[200],borderRadius:4,marginHorizontal:U},usageBar:{height:"100%",backgroundColor:E,borderRadius:4},usageText:Object.assign({},L,{fontSize:q.sm,color:D[600],width:40,textAlign:"right"})}),we=({navigation:e})=>{const t=g.sort(((e,t)=>new Date(t.dateReported)-new Date(e.dateReported))).slice(0,3),n=e=>{const t=u.find((t=>t.id===e));return t?t.name:"Unknown Equipment"};return(0,j.jsxs)(X.default,{style:Te.container,children:[(0,j.jsxs)($.default,{style:Te.statsGrid,children:[(0,j.jsx)(Se,{title:"Total Equipment",value:f.totalEquipment,icon:"medical",color:E,onPress:()=>e.navigate("EquipmentList")}),(0,j.jsx)(Se,{title:"Under Maintenance",value:f.underMaintenance,icon:"construct",color:P}),(0,j.jsx)(Se,{title:"Overdue Repairs",value:f.overdueRepairs,icon:"alert-circle",color:A})]}),(0,j.jsxs)($.default,{style:Te.section,children:[(0,j.jsx)(K.default,{style:Te.sectionTitle,children:"Department Usage"}),(0,j.jsx)($.default,{style:Te.departmentStats,children:Object.entries(f.departmentUsage).map((([e,t])=>(0,j.jsxs)($.default,{style:Te.departmentRow,children:[(0,j.jsx)(K.default,{style:Te.departmentName,children:e}),(0,j.jsx)($.default,{style:Te.usageBarContainer,children:(0,j.jsx)($.default,{style:[Te.usageBar,{width:`${t}%`}]})}),(0,j.jsxs)(K.default,{style:Te.usageText,children:[t,"%"]})]},e)))})]}),(0,j.jsxs)($.default,{style:Te.section,children:[(0,j.jsxs)($.default,{style:Te.sectionHeader,children:[(0,j.jsx)(K.default,{style:Te.sectionTitle,children:"Recent Reports"}),(0,j.jsxs)(Z.default,{onPress:()=>e.navigate("Reports"),style:Te.seeAllButton,children:[(0,j.jsx)(K.default,{style:Te.seeAllText,children:"See All"}),(0,j.jsx)(R.default,{name:"chevron-forward",size:16,color:E})]})]}),t.map((t=>(0,j.jsx)(ce,{title:n(t.equipmentId),subtitle:`Severity: ${t.severity}`,description:t.description,status:t.status,onPress:()=>e.navigate("ReportDetails",{id:t.id}),style:Te.reportCard},t.id)))]})]})},Ie=Q.default.create({container:{flex:1,backgroundColor:O},header:{padding:W,backgroundColor:E},welcomeText:Object.assign({},k,{fontSize:q.md,color:D[100]}),nameText:Object.assign({},M,{fontSize:q.xl,color:B}),tabContainer:Object.assign({flexDirection:"row",backgroundColor:B,padding:F},_),tab:{flex:1,paddingVertical:F,alignItems:"center",flexDirection:"row",justifyContent:"center",borderRadius:8},activeTab:{backgroundColor:E},tabText:Object.assign({},L,{fontSize:q.md,color:D[600]}),activeTabText:{color:B},badge:{backgroundColor:A,borderRadius:12,paddingHorizontal:F,paddingVertical:2,marginLeft:H},badgeText:Object.assign({},M,{fontSize:q.xs,color:B}),content:{flex:1},scrollContent:{padding:U},card:{marginBottom:U},emptyContainer:{flex:1,justifyContent:"center",alignItems:"center",paddingVertical:2*V},emptyText:Object.assign({},L,{fontSize:q.lg,color:D[400],marginTop:U}),emptySubtext:Object.assign({},k,{fontSize:q.md,color:D[400],marginTop:H,textAlign:"center"})}),ve=({navigation:e})=>{const[t,n]=(0,a.useState)("pending"),{user:o}=(0,r.useAuth)(),i=g.filter((e=>{const t=u.find((t=>t.id===e.equipmentId));return t?.assignedTechnician===o.id})),s=i.filter((e=>{switch(t){case"pending":return"PENDING"===e.status;case"inProgress":return"IN_PROGRESS"===e.status;case"completed":return"COMPLETED"===e.status;default:return!0}})),l=e=>u.find((t=>t.id===e))||{},d=e=>{switch(e.toUpperCase()){case"HIGH":return A;case"MEDIUM":return P;case"LOW":return N;default:return D[500]}};return(0,j.jsxs)($.default,{style:Ie.container,children:[(0,j.jsxs)($.default,{style:Ie.header,children:[(0,j.jsx)(K.default,{style:Ie.welcomeText,children:"Welcome back,"}),(0,j.jsx)(K.default,{style:Ie.nameText,children:o.name})]}),(0,j.jsxs)($.default,{style:Ie.tabContainer,children:[(0,j.jsxs)(Z.default,{style:[Ie.tab,"pending"===t&&Ie.activeTab],onPress:()=>n("pending"),children:[(0,j.jsx)(K.default,{style:[Ie.tabText,"pending"===t&&Ie.activeTabText],children:"Pending"}),(0,j.jsx)($.default,{style:Ie.badge,children:(0,j.jsx)(K.default,{style:Ie.badgeText,children:i.filter((e=>"PENDING"===e.status)).length})})]}),(0,j.jsx)(Z.default,{style:[Ie.tab,"inProgress"===t&&Ie.activeTab],onPress:()=>n("inProgress"),children:(0,j.jsx)(K.default,{style:[Ie.tabText,"inProgress"===t&&Ie.activeTabText],children:"In Progress"})}),(0,j.jsx)(Z.default,{style:[Ie.tab,"completed"===t&&Ie.activeTab],onPress:()=>n("completed"),children:(0,j.jsx)(K.default,{style:[Ie.tabText,"completed"===t&&Ie.activeTabText],children:"Completed"})})]}),(0,j.jsx)(X.default,{style:Ie.content,contentContainerStyle:Ie.scrollContent,showsVerticalScrollIndicator:!1,children:s.length>0?s.map((t=>{const n=l(t.equipmentId);return(0,j.jsx)(ce,{title:n.name,subtitle:`Department: ${n.department}`,description:t.description,status:t.status,badges:[{text:`Severity: ${t.severity}`,color:d(t.severity)},{text:`Reported: ${new Date(t.dateReported).toLocaleDateString()}`,color:D[500]}],onPress:()=>e.navigate("ReportDetails",{id:t.id}),style:Ie.card},t.id)})):(0,j.jsxs)($.default,{style:Ie.emptyContainer,children:[(0,j.jsx)(R.default,{name:"checkmark-done-circle-outline",size:64,color:D[300]}),(0,j.jsx)(K.default,{style:Ie.emptyText,children:"No tasks found"}),(0,j.jsx)(K.default,{style:Ie.emptySubtext,children:"pending"===t?"You have no pending maintenance tasks":"inProgress"===t?"No tasks are currently in progress":"No completed tasks yet"})]})})]})},Re=Q.default.create({container:{flex:1,backgroundColor:O},header:{backgroundColor:B,padding:V,alignItems:"center",borderBottomWidth:1,borderBottomColor:D[200]},avatarContainer:{width:80,height:80,borderRadius:40,backgroundColor:E,justifyContent:"center",alignItems:"center",marginBottom:U},avatarText:Object.assign({},M,{fontSize:q["2xl"],color:B}),name:Object.assign({},M,{fontSize:q.xl,color:D[900],marginBottom:H}),roleBadge:{paddingHorizontal:U,paddingVertical:H,borderRadius:16,marginBottom:F},roleText:Object.assign({},L,{fontSize:q.xs,color:B,textTransform:"uppercase"}),email:Object.assign({},k,{fontSize:q.md,color:D[600]}),section:{marginTop:V,paddingHorizontal:W},sectionTitle:Object.assign({},M,{fontSize:q.md,color:D[700],marginBottom:F}),menuContainer:Object.assign({backgroundColor:B,borderRadius:12},_),menuOption:{flexDirection:"row",alignItems:"center",padding:U,borderBottomWidth:1,borderBottomColor:D[200]},menuIconContainer:{width:40,height:40,borderRadius:20,backgroundColor:D[100],justifyContent:"center",alignItems:"center",marginRight:U},menuText:Object.assign({},L,{fontSize:q.md,flex:1}),logoutButton:{margin:V,marginTop:2*V,borderColor:A}}),Ee=()=>{const{user:e,logout:t}=T(),n=(0,w.useNavigation)(),r=({icon:e,title:t,onPress:n,color:r=D[600]})=>(0,j.jsxs)(Z.default,{style:Re.menuOption,onPress:n,children:[(0,j.jsx)($.default,{style:Re.menuIconContainer,children:(0,j.jsx)(R.default,{name:e,size:24,color:r})}),(0,j.jsx)(K.default,{style:[Re.menuText,{color:r}],children:t}),(0,j.jsx)(R.default,{name:"chevron-forward",size:20,color:D[400]})]});return(0,j.jsxs)(X.default,{style:Re.container,children:[(0,j.jsxs)($.default,{style:Re.header,children:[(0,j.jsx)($.default,{style:Re.avatarContainer,children:(0,j.jsx)(K.default,{style:Re.avatarText,children:e.name.split(" ").map((e=>e[0])).join("")})}),(0,j.jsx)(K.default,{style:Re.name,children:e.name}),(0,j.jsx)($.default,{style:[Re.roleBadge,{backgroundColor:(e=>{switch(e){case"ADMIN":return E;case"TECHNICIAN":return P;case"STAFF":return N;default:return D[500]}})(e.role)}],children:(0,j.jsx)(K.default,{style:Re.roleText,children:e.role})}),(0,j.jsx)(K.default,{style:Re.email,children:e.email})]}),(0,j.jsxs)($.default,{style:Re.section,children:[(0,j.jsx)(K.default,{style:Re.sectionTitle,children:"Account Settings"}),(0,j.jsxs)($.default,{style:Re.menuContainer,children:[(0,j.jsx)(r,{icon:"person-outline",title:"Edit Profile",onPress:()=>Ce.default.alert("Coming Soon","This feature will be available soon.")}),(0,j.jsx)(r,{icon:"lock-closed-outline",title:"Change Password",onPress:()=>Ce.default.alert("Coming Soon","This feature will be available soon.")}),(0,j.jsx)(r,{icon:"notifications-outline",title:"Notification Settings",onPress:()=>Ce.default.alert("Coming Soon","This feature will be available soon.")})]})]}),(0,j.jsxs)($.default,{style:Re.section,children:[(0,j.jsx)(K.default,{style:Re.sectionTitle,children:"App Settings"}),(0,j.jsxs)($.default,{style:Re.menuContainer,children:[(0,j.jsx)(r,{icon:"moon-outline",title:"Dark Mode",onPress:()=>Ce.default.alert("Coming Soon","This feature will be available soon.")}),(0,j.jsx)(r,{icon:"language-outline",title:"Language",onPress:()=>Ce.default.alert("Coming Soon","This feature will be available soon.")})]})]}),(0,j.jsxs)($.default,{style:Re.section,children:[(0,j.jsx)(K.default,{style:Re.sectionTitle,children:"Support"}),(0,j.jsxs)($.default,{style:Re.menuContainer,children:[(0,j.jsx)(r,{icon:"help-circle-outline",title:"Help Center",onPress:()=>Ce.default.alert("Coming Soon","This feature will be available soon.")}),(0,j.jsx)(r,{icon:"information-circle-outline",title:"About",onPress:()=>Ce.default.alert("About","Hospital Equipment Management System v1.0.0")})]})]}),(0,j.jsx)(ne,{title:"Logout",onPress:()=>{Ce.default.alert("Logout","Are you sure you want to logout?",[{text:"Cancel",style:"cancel"},{text:"Logout",style:"destructive",onPress:async()=>{try{await t()&&n.replace("Login")}catch(e){console.error("Logout error:",e),Ce.default.alert("Error","Failed to logout")}}}],{cancelable:!1})},variant:"outline",style:Re.logoutButton,textStyle:{color:A}})]})},Oe=(0,I.createStackNavigator)(),Be=(0,v.createBottomTabNavigator)(),Ae=()=>{const{user:e}=T();return(()=>{switch(e?.role){case b.ADMIN:return(0,j.jsxs)(Be.Navigator,{screenOptions:({route:e})=>({tabBarIcon:({focused:t,color:n})=>{let r;return"Dashboard"===e.name?r=t?"grid":"grid-outline":"Equipment"===e.name?r=t?"medical":"medical-outline":"Reports"===e.name?r=t?"document-text":"document-text-outline":"Profile"===e.name&&(r=t?"person":"person-outline"),(0,j.jsx)(R.default,{name:r,size:24,color:n})},tabBarActiveTintColor:E,tabBarInactiveTintColor:D[400],tabBarStyle:{backgroundColor:B,borderTopWidth:1,borderTopColor:D[200],paddingBottom:5,paddingTop:5}}),children:[(0,j.jsx)(Be.Screen,{name:"Dashboard",component:we}),(0,j.jsx)(Be.Screen,{name:"Equipment",component:ge}),(0,j.jsx)(Be.Screen,{name:"Reports",component:ye}),(0,j.jsx)(Be.Screen,{name:"Profile",component:Ee})]});case b.TECHNICIAN:return(0,j.jsxs)(Be.Navigator,{screenOptions:({route:e})=>({tabBarIcon:({focused:t,color:n})=>{let r;return"Dashboard"===e.name?r=t?"grid":"grid-outline":"Equipment"===e.name?r=t?"medical":"medical-outline":"Scan"===e.name?r=t?"qr-code":"qr-code-outline":"Profile"===e.name&&(r=t?"person":"person-outline"),(0,j.jsx)(R.default,{name:r,size:24,color:n})}}),children:[(0,j.jsx)(Be.Screen,{name:"Dashboard",component:ve}),(0,j.jsx)(Be.Screen,{name:"Equipment",component:ge}),(0,j.jsx)(Be.Screen,{name:"Scan",component:be}),(0,j.jsx)(Be.Screen,{name:"Profile",component:Ee})]});default:return(0,j.jsxs)(Be.Navigator,{screenOptions:({route:e})=>({tabBarIcon:({focused:t,color:n})=>{let r;return"Equipment"===e.name?r=t?"medical":"medical-outline":"Scan"===e.name?r=t?"qr-code":"qr-code-outline":"Reports"===e.name?r=t?"document-text":"document-text-outline":"Profile"===e.name&&(r=t?"person":"person-outline"),(0,j.jsx)(R.default,{name:r,size:24,color:n})}}),children:[(0,j.jsx)(Be.Screen,{name:"Equipment",component:ge}),(0,j.jsx)(Be.Screen,{name:"Scan",component:be}),(0,j.jsx)(Be.Screen,{name:"Reports",component:ye}),(0,j.jsx)(Be.Screen,{name:"Profile",component:Ee})]})}})()},Ne=()=>{const{isAuthenticated:e,loading:t}=T();return(0,a.useEffect)((()=>{console.log("[AppNavigator] Auth state updated",{isAuthenticated:e,loading:t})}),[e,t]),t?null:(0,j.jsx)(w.NavigationContainer,{children:(0,j.jsx)(Oe.Navigator,{children:e?(0,j.jsx)(Oe.Screen,{name:"MainApp",component:Ae,options:{headerShown:!1}}):(0,j.jsx)(Oe.Screen,{name:"Login",component:se,options:{headerShown:!1,animationTypeForReplace:e?"push":"pop"}})})})};var Pe=n(1703);(0,o.default)((function(){return Pe.default.ignoreLogs(["AsyncStorage has been extracted","Setting a timer","Remote debugger"]),(0,j.jsxs)(i.SafeAreaProvider,{children:[(0,j.jsx)(s.StatusBar,{style:"light",backgroundColor:E}),(0,j.jsx)(S,{children:(0,j.jsx)(Ne,{})})]})}))}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,(()=>{var e=[];n.O=(t,r,o,a)=>{if(!r){var i=1/0;for(c=0;c<e.length;c++){for(var[r,o,a]=e[c],s=!0,l=0;l<r.length;l++)(!1&a||i>=a)&&Object.keys(n.O).every((e=>n.O[e](r[l])))?r.splice(l--,1):(s=!1,a<i&&(i=a));if(s){e.splice(c--,1);var d=o();void 0!==d&&(t=d)}}return t}a=a||0;for(var c=e.length;c>0&&e[c-1][2]>a;c--)e[c]=e[c-1];e[c]=[r,o,a]}})(),n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.O.j=t=>0===e[t];var t=(t,r)=>{var o,a,[i,s,l]=r,d=0;if(i.some((t=>0!==e[t]))){for(o in s)n.o(s,o)&&(n.m[o]=s[o]);if(l)var c=l(n)}for(t&&t(r);d<i.length;d++)a=i[d],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return n.O(c)},r=self.webpackChunkweb=self.webpackChunkweb||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})();var r=n.O(void 0,[327],(()=>n(4247)));r=n.O(r)})();
//# sourceMappingURL=main.7d4c61af.js.map